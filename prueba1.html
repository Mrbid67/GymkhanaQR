<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba 1 - Villa de las Tres Mentiras</title>
    <link rel="stylesheet" href="style.css">
    <script src="languages.js"></script>
    <script>

        let currentLang = 'es';

        // Función para cambiar idioma
        function changeLanguage(lang) {
            currentLang = lang; // Actualiza el idioma actual
            document.getElementById("title").textContent = translations[lang].pruebas[0].prueba;
            document.getElementById("instruction").textContent = translations[lang].pruebas[0].pregunta;
            document.getElementById("submitButton").textContent = (lang === 'es') ? 'Enviar Respuesta' : (lang === 'en') ? 'Submit Answer' : 'Envoyer la Réponse';
            document.getElementById("respuesta").textContent = ranslations[lang].pruebas.placeHolder;
        }

        // Función para validar la respuesta
        function validarRespuesta() {
            const respuesta = document.getElementById("respuesta").value.toLowerCase();
            const contieneSanta = respuesta.includes("santa");
            const contieneLlana = respuesta.includes("llana");
            const contieneMar = respuesta.includes("mar");

            if (contieneSanta && contieneLlana && contieneMar) {
                window.location.href = "prueba1_correcto.html?lang=" + currentLang;
            } else {
                const mensaje = {
                    es: "Respuesta incorrecta.",
                    en: "Incorrect answer.",
                    fr: "Réponse incorrecte."
                };
                document.getElementById("mensaje").textContent = mensaje[currentLang];
            }
        }
    </script>
</head>

<body onload="changeLanguage('es')"> <!-- Por defecto en español -->

    <header>
        <h1 id="title"></h1>
    </header>

    <nav>
        <a onclick="changeLanguage('es')" class="language language-select"><img src="resources/spainFlag.png"
                width="40rem"></a>
        <a onclick="changeLanguage('en')" class="language"><img src="resources/englishFlag.png" width="40rem"></a>
        <a onclick="changeLanguage('fr')" class="language"><img src="resources/franceFlag.png" width="40rem"></a>
    </nav>

    <main>

        <div class="content">

            <p id="instruction" class="pregunta"></p>

            <input type="text" id="respuesta" class="input" placeholder="Escribe tu respuesta aquí...">


            <button id="submitButton" class="button" onclick="validarRespuesta()">Enviar Respuesta</button>

            <p id="mensaje" style="color: red;"></p>
        </div>
    </main>
    <div class="footer">
        <p>&copy; 2024 Gymkhana QR</p>
    </div>
</body>

</html>